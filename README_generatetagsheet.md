# generatetagsheet
Tools to generate sheets of tags for insect tracking

## Requirements

- Unix system with BASH (Linux, MacOSX...)
- Python3, with packages:
    `mako, os, sys, getopt, datetime, math, re, collections`
- Tag sets (e.g. generated by april.tag.TagFamilyGenerator) 
- ImageMagick `convert` (to prepare tag image sets: crop, resize, change fileformat)
- `potrace` (to convert PNG/PBM to SVG)
- inkscape (to convert SVG tagsheet to PDF)


## HOWTO create tag sheets

0. Add utils directory to PATH:

```
    export PATH=/Users/megret/Documents/Research/BeeTracking/Soft/createtagsheet/bash:$PATH
```
or using script
```
    source bash/createtagsheet_startup.sh
```

1. Create directory of tag images

```
    tags/tag36h10inv/pbm/keyed????.pbm
```
  or
```
    tags/tag36h10inv/png/keyed????.png
```

  where ???? represents the tag id

  - If the tags contain the external inverted border, crop it using `dir_crop_png.sh`
    ```
        dir_crop_png.sh  pngraw/ png/ 1
    ```
  - If the files have custom prefix (such as the ones produced by apriltag Java tool), or have the wrong number of numbers in the ID, rename them using `dir_prefix_rename`
  ```
        dir_prefix_rename tags/tag36h10/png tag36_10_0 keyed
  ```
     Note: works also for other types of files
     
     
2. Convert tag images into SVG

```
    cd tags/tag36h10inv
    dir_pbm2svg.sh pbm svg
```
  or
```
    dir_png2svg.sh png svg
```

Do it with some white border to balance white/black pixels

```
mkdir -p ../svg-3w ../svg-3w-preview
# Test
for f in *.svg; do sed 's/stroke="none"/stroke="white" stroke-width="0.3"/' $f > ../svg-3w-preview/$f; done
# Final
for f in *.svg; do sed 's/stroke="none"/stroke="white" stroke-width="0.3"/' $f > ../svg-3w/$f; done
```

Do it with some white border to balance white/black pixels

```
mkdir -p ../svg-2w ../svg-2w-preview
# Test
for f in *.svg; do sed 's/stroke="none"/stroke="red" stroke-width="0.2"/' $f > ../svg-2w-preview/$f; done
# Final
for f in *.svg; do sed 's/stroke="none"/stroke="white" stroke-width="0.2"/' $f > ../svg-2w/$f; done
```


3. Create main SVG sheet

```
  cd tags
```
  make sure SVG files are available as `svg/keyed????.svg`

  e.g.:
```
  python ../python/generatetagsheet.py -f tag25h6 --dpp 10 -bx=5 -by=2 -v 958 --output tagsheet_25h6_10dpp.svg
```
  this creates the sheet as SVG using mako template engine
  then convert it to PDF using svg2pdf_inkscape.sh
  
  for help:
```
  python ../python/generatetagsheet.py -h
```

  To create a test page:
```
    python ../python/generatetagsheet.py --custom custom_tag36h10 --output tagsheet_custom_36h10.svg
    python ../python/generatetagsheet.py --custom custom_tag25h5 --output tagsheet_custom_25h5.svg
    python ../python/generatetagsheet.py --custom custom_tag25h6 --output tagsheet_custom_25h6.svg
```
  

      Tag structure and parameters:
        +-----------------+
        |    2            |
        |    I   id       |   [I = idtext is idheight_pix high]
        |   X2XXXXXXXXX   |   
        |   X.........X   |   
        |   X.       .X   |   
        |   X.       .X   |                          values for 36h10
        |2222.       .2222|    
        |   X.       .X   |   tagsize_pix=tagcode_pix+2*tagborder_pix = 8                      
        |   X.       .X   |   [  = code img,         tagcode_pix=6]
        |   X.........X   |   [. = tag inner border, tagborder_pix=1]
        |   X2XXXXXXXXX   |   [X = border1,          border1_pix=1]
        |    2            |   [2 = border2,          border2_pix=3]
        +-----------------+

## MISC

- Test sheets obtained using the custom setup. Sill print both positive and inverse tags, in different sizes:
```
	python ../python/generatetagsheet.py --custom custom_tag36h10 --output tagsheet_test36h10.svg
	python ../python/generatetagsheet.py --custom custom_tag25h5 --output tagsheet_test25h5.svg
	python ../python/generatetagsheet.py --custom custom_tag25h6 --output tagsheet_test25h6.svg
```

- Memo relationship between printing dots and pixels
      at 2400dpi:
      2mm = 0.0787402in = 188dots
      for 9x9 tag, 1 tag pixel = 21 dots  

      at 72pt/pixel, 21dots=3.4pt

- Create tag25h5inv sheet for 13x19 paper:
for kerf_mm in 0.2 0.4 0.6 0.8 1.0; do echo kerf=$kerf_mm; python ../python/generatetagsheet.py -f tag25h5inv -p 5 -u 0 -v 3008 -bx 5 -by 7 -d 10 -s 2 -o tagsheet_25h5inv_10dpp_CUTS${kerf_mm}.svg -m 1 -pw 482.6 -ph 330.2 -bm 5.08 -tm 10 -kt -ktx 40 -kty 430 -kf ${kerf_mm}; done

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -u 0 -v 3008 -bx 5 -by 7 -d 10 -s 2 -o tagsheet_25h5inv_10dpp_color.svg -m=-2 -pw 482.6 -ph 330.2 -bm 5.08 -tm 10 -kt -ktx 40 -kty 430


- Create tag25h5inv sheet for 13x19 paper:
```
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -u 0 -v 3008 -bx 5 -by 7 -d 10 -s 2 -o tagsheet_25h5inv_10dpp_color.svg -m=-2 -pz 13x19 -bm 5.08 -tm 10 -kt -ktx 40 -kty 430
```

- Create tag25h5inv sheet for 8.5x11 paper: (May 6, 2017)
```
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0 -v 999 -bx 3 -by 4 -pz letter -bm 5.08 -tm 10 -kt -ktx 90 -kty 210 -sc -m=tags -kf 0.2
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -bm 5.08 -tm 10 -kt -ktx 90 -kty 210 -sc -m=tags -kf 0.2
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -bm 5.08 -tm 10 -kt -ktx 90 -kty 210 -sc -m=all -kf 0.2

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0 -v 999 -bx 3 -by 4 -pz letter -bm 5.08 -tm 10 -kt -ktx 90 -kty 210 -m=tags -kf 0.2
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -bm 5.08 -tm 10 -kt -ktx 90 -kty 210 -m=tags -kf 0.2
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -bm 5.08 -tm 10 -kt -ktx 90 -kty 210 -m=all -kf 0.2

# No opening
for kerf_mm in 0.2 0.4 0.6 0.8 1.0; do 
   echo kerf=$kerf_mm; 
   python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -bm 5.08 -tm 10 -kt -ktx 90 -kty 210 -sc -m=cuts -kf $kerf_mm -rm
done

# Opening x2
for kerf_mm in 0.2 0.4 0.6 0.8 1.0; do 
   echo kerf=$kerf_mm; 
   python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -bm 5.08 -tm 10 -kt -ktx 90 -kty 210 -sc -m=cuts -kf $kerf_mm -ko 2 -rm
done
```

Office Depot Plaza Las Americas, May 6:
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0 -v 3008 -bx 5 -by 7 -pz 12x18 -bm 5.08 -tm 10,13 -kt -ktx 180 -kty 410 -sc -m=all -kf 0.2


- Create tag25h5inv sheet for 19x13 paper: (May 6, 2017)
```
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0 -v 3008 -bx 5 -by 7 -pz 13x19 -bm 5.08 -tm 10,13 -kt -ktx 180 -kty 430 -sc -m=all -kf 0.2

for kerf_mm in 0.2 0.4 0.6 0.8 1.0; do 
   echo kerf=$kerf_mm; 
   python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0 -v 3008 -bx 5 -by 7 -pz 13x19 -bm 5.08 -tm 10,13 -kt -ktx 180 -kty 430 -sc -m=cuts -kf $kerf_mm
done
```

- Create tag25h5inv cut sheet for 8.5x11 paper: (May 9, 2017)

kerf_mm=1.2
opening 

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0 -v 999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 210 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 90 -tpy 250 -m=tags -col0 '#c00000' -col1 '#008080' -sb

# redcode:
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0 -v 999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 210 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 90 -tpy 250 -m=tags -col0 '#a00' -col1 '#088' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_redcode' -sbc

# bluecode:
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0 -v 999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 210 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 90 -tpy 250 -m=tags -col0 '#00a' -col1 '#880' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_bluecode' -sbc

# blackcode
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=tags -col0 '#fff' -col1 '#000' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_blackcode' -sbc -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=tags -col0 '#fff' -col1 '#000' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_blackcode' -sbc -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=tags,cuts -col0 '#fff' -col1 '#000' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_blackcode' -sbc -rm

# bluecode
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 90 -tpy 250 -m=tags -col0 '#ff4' -col1 '#00a' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_bluecode' -sbc

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 90 -tpy 250 -m=tags -col0 '#ff4' -col1 '#00a' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_bluecode' -sbc

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=tags,cuts -col0 '#ff4' -col1 '#00a' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_bluecode' -sbc


# cyancode
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=tags -col0 '#aff' -col1 '#a00' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_cyancode' -sbc -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=tags -col0 '#aff' -col1 '#a00' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_cyancode' -sbc -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=tags,cuts -col0 '#aff' -col1 '#a00' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_cyancode' -sbc -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=view -col0 '#aff' -col1 '#a00' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}_cyancode' -sbc -kfv 0.5 -rm

# nocode
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=tags -col0 '#000' -col1 '#fff' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}' -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=tags -col0 '#000' -col1 '#fff' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}' -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.2 -ko 0.5 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=tags,cuts -col0 '#000' -col1 '#fff' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}' -rm

# Correction -0.15mm inside

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.9 -kfv 0.45 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=cuts,view -col0 '#aff' -col1 '#a00' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}' -sbc -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.0 -kfv 0.45 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=cuts,view -col0 '#aff' -col1 '#a00' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}' -sbc -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.8 -kfv 0.45 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=cuts,view -col0 '#aff' -col1 '#a00' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}' -sbc -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.95 -kfv 0.45 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=cuts,view -col0 '#aff' -col1 '#a00' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}' -sbc -rm

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 1.05 -kfv 0.45 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=cuts,view -col0 '#aff' -col1 '#a00' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}' -sbc -rm

# Second correction
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 3008 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -kfv 0.45 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=cuts,view -col0 '#aff' -col1 '#a00' -sb -ob '{family}_dpp{tagdpp1200}_{page_size}_{first_id}-{last_id}' -sbc -rm


## Troubleshooting

- Error
`mako.exceptions.CompileException: Unicode decode operation of encoding 'ascii' failed in file '../python/mako_templates/template_closing.svg' at line: 0 char: 0`

  Due to template not saved at UTF8 with BOM


## New tags for Argentina


python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#fff' -col1 '#000' -tc '#000' -b1sw 0.2 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext' -rm -kfv 0.2

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#fff' -col1 '#000' -tc '#000' -b1sw 0.2 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext' -rm -kfv 0.2  

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#fff' -col1 '#000' -tc '#000' -b1sw 0.2 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext' -rm -kfv 0.2


## New tags with white border

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#fff' -col1 '#000' -tc '#000' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext3w' -rm -kfv 0.2 -td '{family}/svg-3w' -tim 0.3

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#fff' -col1 '#000' -tc '#000' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext3w' -rm -kfv 0.2 -td '{family}/svg-3w' -tim 0.3

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#fff' -col1 '#000' -tc '#000' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext3w' -rm -kfv 0.2 -td '{family}/svg-3w' -tim 0.3


python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#fff' -col1 '#000' -tc '#000' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#fff' -col1 '#000' -tc '#000' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#fff' -col1 '#000' -tc '#000' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3



python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#000' -col1 '#fff' -tc '#fff' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext2' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#000' -col1 '#fff' -tc '#fff' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext2' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#000' -col1 '#fff' -tc '#fff' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext2' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3



# Test with svg-2w


python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#000' -col1 '#fff' -tc '#fff' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext2w' -rm -kfv 0.2 -td '{family}/svg-2w' -tim 0.3

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#000' -col1 '#fff' -tc '#fff' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext2w' -rm -kfv 0.2 -td '{family}/svg-2w' -tim 0.3

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -m=all -col0 '#000' -col1 '#fff' -tc '#fff' -b1sw 0.3 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_blacktext2w' -rm -kfv 0.2 -td '{family}/svg-2w' -tim 0.3


# Test colors
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -col0 '#f00' -col1 '#0f0' -tc '#000' -b1sw 0.2 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_2w_test' -rm -kfv 0.2 -td '{family}/svg-2w' -tim 0.3 -m=tags



python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 100 -u 2900 -v 2900 -bx 1 -by 1 -pz letter -kt -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -col0 '#f00' -col1 '#0f0' -tc '#000' -b1sw 0.2 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_2w_test' -rm -kfv 0.2 -td '{family}/svg-2w' -tim 0.3 -m=tags -tbc white -tm2 3 -tm2b 2.2 -tg -tgc '#FFF' -tgsw 0.2 -fwi normal


# Ask quote

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -col0 '#f0f' -col1 '#0ff' -tc '#000' -b1sw 0.2 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_2w_test' -rm -kfv 0.2 -td '{family}/svg-2w' -tim 0.3 -m=tags -tbc white -tm2 3 -tm2b 2.2 -tg -tgc '#FFF' -tgsw 0.2 -fwi normal


HP Indigo: 
1219 ppi = 48 ppmm (exact 
609.5 ppi = 24 ppmm
304.75 = 12ppmm
121.9 ppi = 4.8 ppmm


python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -col0 '#0ff' -col1 '#0ff' -tc '#000' -b1sw 0.2 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_2w_test' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -m=tags -tbc white -tm2 3 -tm2b 2.2 -tg -tgc '#FFF' -tgsw 0.2 -fwi normal


# Adjust local dpi in tag for HP Indigo mm hints
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -col0 '#f0f' -col1 '#0ff' -tc '#000' -b1sw 0.2 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_2w_test_1219.2' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -m=tags -tbc white -tm2 3 -tm2b 2.2 -tg -tgc '#FFF' -tgsw 0.2 -fwi normal -cl -cld -udpi -ldpi 1219.2

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2000 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -col0 '#0ff' -col1 '#0ff' -tc '#000' -b1sw 0.2 -fsx 2.0 -fsi 1.5 -sb -ob '{family}dpp{tagdpp1200}{page_size}{first_id}-{last_id}_2w_test' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -m=tags -tbc white -tm2 3 -tm2b 2.2 -tg -tgc '#FFF' -tgsw 0.2 -fwi normal -cl -cld -uc


# Convert to CMYK
out=${in%.pdf}_CMY.pdf gs -dSAFER -dBATCH -dNOPAUSE -dNOCACHE -sDEVICE=pdfwrite -sColorConversionStrategy=CMYK -dProcessColorModel=/DeviceCMYK -sOutputFile=${out} ${in}


out=${in%.pdf}_CMY.pdf gs -dSAFER -dBATCH -dNOPAUSE -dNOCACHE -sDEVICE=pdfwrite -dUseCIEColor -sColorConversionStrategy=CMYK -dProcessColorModel=/DeviceCMYK -sOutputFile=${out} ${in}


gs -sDEVICE=pdfwrite -dNOPAUSE -dBATCH -dSAFER -sOutputFile="$out" HackRGB-cmyk-inv.ps "$in"

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2000 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -col0 '#ff0' -col1 '#ff0' -tc '#000' -b1sw 0.2 -fsx 2.0 -fsi 1.5 -sb -ob 'TAGS_{first_id}-{last_id}_2w_Y' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -m=tags -tbc white -tm2 3 -tm2b 2.2 -tg -tgc '#FFF' -tgsw 0.2 -fwi normal -cl -cld -uc -cmyk

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2000 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{tagid_bgcolor}_{tagcornercolor1}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'magenta' -col1 'yellow' 

#TEST
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2000 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'magenta' -col1 'magenta' 


# PRODUCTION
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'magenta' -col1 'magenta' 

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'magenta' -col1 'magenta' 

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'magenta' -col1 'magenta' 





# TEST GOPRINT
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'magenta' -col1 'magenta'  -udpi -ldpi 1219.2 -tt

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'magenta' -col1 'magenta'  -udpi -ldpi 1219.2 -tt

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'magenta' -col1 'magenta'  -udpi -ldpi 1219.2 -tt


python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}' -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'magenta' -col1 'magenta'  -udpi -ldpi 1219.2 -tt


python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'yellow' -col1 'yellow'  -tt

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'yellow' -col1 'yellow'  -tt

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.2 -tg -tgsw 0.2 -col0 'yellow' -col1 'yellow'  -tt



python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}_{tagcornercolor1}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi bold -cl -cld -uc -cmyk -b1sw 0.3 -tg -tgsw 0.3 -col0 'white' -col1 'black'  -tt

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 1000 -v 1999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}_{tagcornercolor1}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi bold -cl -cld -uc -cmyk -b1sw 0.3 -tg -tgsw 0.3 -col0 'white' -col1 'black'  -tt

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}_{tagcornercolor1}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi bold -cl -cld -uc -cmyk -b1sw 0.3 -tg -tgsw 0.3 -col0 'white' -col1 'black'  -tt



gs -dNOPAUSE -dBATCH -dSAFER -sDEVICE=tiffsep -dFirstPage=1 -dLastPage=1 -sOutputFile=p%02d.tif $inpdf


gs -dNOPAUSE -dBATCH -dSAFER -sDEVICE=tiffsep -dFirstPage=1 -dLastPage=1 -sOutputFile=p%02d.tif $out




python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}' -rm -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -cmyk -b1sw 0.1 -tg -tgsw 0.1 -col0 'magenta' -col1 'magenta'  -udpi -ldpi 1219.2 -tt -no_rgb -cmyk


gs -dNOPAUSE -dBATCH -dSAFER -sDEVICE=tiffsep -dFirstPage=1 -dLastPage=1 -r1200 -sOutputFile=p%02d.tif 'tags_2000-2999_tg0.2_1219.2_magenta_TAGS_CMYKBW.pdf'

for f in *_*'(Black)'.tif; do echo $f; convert ${f} -crop 900x500+2376+9930 +repage -pointsize 18 label:"$f" -append ${f%.tif}_CROP.tif; done
convert *_CROP.tif -adjoin All_CROP.tif





python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td '{family}/svg' -tbc '#FFF' -tgc 'white' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -tg -tgsw 0.15 -col0 'black' -col1 'white'  -tt -rm -bw -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.5 -fls 0.2


python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td '{family}/svg' -tbc '#FFF' -tgc 'white' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -tg -tgsw 0.15 -col0 'black' -col1 'white'  -tt -rm -bw -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.5 -fls 0.2

#TEST

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -fsx 2.0 -fsi 1.5 -sb -m=tags -ob 'tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td '{family}/svg' -tim 0.3 -tbc '#FFF' -tgc 'red' -tm2 3 -tm2b 2.2 -fwi normal -cl -cld -uc -b1sw 0.2 -tg -tgsw 0.15 -col0 'black' -col1 'white'  -tt -rm



#for uv in 0000-0999 1000-1999; do
for uv in 0000-0999; do
for t in 0.00 0.05 0.10 0.20 0.30; do
u=${uv%-*}
v=${uv#*-}
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u $u -v $v -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -sb -m=tags -ob 'tags_{first_id:04}-{last_id:04}_tg{taggrid_strokewidth:.2f}_{local_dpi}_sh{ptshift}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td '{family}/svg' -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -col0 'black' -col1 'white'  -tt -rm -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.2 -fls 0.4 -tg -tgsw $t -ptsh 0.0 -bw
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u $u -v $v -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -sb -m=tags -ob 'tags_{first_id:04}-{last_id:04}_tg{taggrid_strokewidth:.2f}_{local_dpi}_sh{ptshift}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td '{family}/svg' -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -col0 'black' -col1 'white'  -tt -rm -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.2 -fls 0.4 -tg -tgsw $t -ptsh 0.5 -bw
done
done


for uv in 0000-0999 1000-1999 2000-2999; do
for t in 0.00 0.05 0.10 0.20 0.30; do
u=${uv%-*}; v=${uv#*-}
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u $u -v $v -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -sb -m=tags -ob 'tags_{first_id:04}-{last_id:04}_tg{taggrid_strokewidth:.2f}_{local_dpi}_sh{ptshift}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td '{family}/svg' -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -col0 'white' -col1 'black'  -tt -rm -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.2 -fls 0.4 -tg -tgsw $t -ptsh 0.0 -bw
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u $u -v $v -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -sb -m=tags -ob 'tags_{first_id:04}-{last_id:04}_tg{taggrid_strokewidth:.2f}_{local_dpi}_sh{ptshift}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td '{family}/svg' -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -col0 'white' -col1 'black'  -tt -rm -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.2 -fls 0.4 -tg -tgsw $t -ptsh 0.5 -bw
done
done


CUTS:

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -sb -m=all -ob 'tags_{first_id:04}-{last_id:04}_tg{taggrid_strokewidth:.2f}_{local_dpi}_sh{ptshift}' -kfv 0.0 -td '{family}/svg' -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -col0 'white' -col1 'black'  -tt -rm -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.2 -fls 0.4 -tg -tgsw 0.10 -ptsh 0.5 -cmyk


for t in 0.00 0.05 0.10 0.20 0.30; do
for sh in 0.0 0.5; do
p=tags_; s=_white_black_TAGS_BW.pdf
config=tg${t}_1200_sh${sh}
echo ${p}xxxx-yyyy_${config}${s}
gs -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=merged_0000-2999_${config}${s} ${p}0000-0999_${config}${s} ${p}1000-1999_${config}${s} ${p}2000-2999_${config}${s};
done
done


for f in tags_0-999*.pdf; do mv $f tags_0000${f#tags_0}; done
for f in tags_0000-999_*.pdf; do mv $f tags_0000-0${f#tags_0000-}; done
for f in *_tg?.?_*.pdf; do mv $f `echo $f | sed 's/_\(tg0.[0-9]\)_/_\10_/'`; done

for f in tags_0000_*.pdf; do mv $f tags_0000-{f#tags_0000_}; done

for f in tags_0000-0999_*TAGS_BW.pdf; do g=${f#tags_0000-0999_}; echo $f tags_1000-1999_$g tags_2000-2999_$g; done

p=tags_
s=_white_black_TAGS_BW.pdf
for f in ${p}0000-0999_*${s}; do config=${f#${p}????-????_}; config=${config%${s}}; echo ${p}0000-0999_${config}${s} ${p}1000-1999_${config}${s} ${p}2000-2999_${config}${s}; gs -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=merged_0000-2999_${config}${s} ${p}0000-0999_${config}${s} ${p}1000-1999_${config}${s} ${p}2000-2999_${config}${s}; done



gs -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=test.pdf tags_*_tg0.10_1200_sh0.0_black_white_TAGS_BW.pdf 



python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 0000 -v 0999 -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc '#000' -sb -m=view -ob 'tags_{first_id:04}-{last_id:04}_tg{taggrid_strokewidth:.2f}_{local_dpi}_sh{ptshift}' -kfv 0.0 -td '{family}/svg' -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -col0 'white' -col1 'black'  -tt -rm -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.2 -fls 0.4 -tg -tgsw 0.10 -ptsh 0.5 -pdf

python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u 2000 -v 2999 -bx 3 -by 4 -pz letter -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy 250 -tc #000 -sb -m=tags -ob tags_{first_id}-{last_id}_tg{taggrid_strokewidth}_{local_dpi}_sh{ptshift}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td {family}/svg -tbc #FFF -tgc #FFF -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -col0 black -col1 white -tt -rm -ff Lucida Sans -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.2 -fls 0.4 -tg -tgsw 0.1 -ptsh 0.5 -bw


Terron 2018-08

c0=white
c1=white
for uv in 0000-0999 1000-1999 2000-2999; do
  t=0.10
  u=${uv%-*}; v=${uv#*-}
  python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u $u -v $v -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy   250 -tc '#000' -sb -m=tags -ob 'tags_{first_id:04}-{last_id:04}_tg{taggrid_strokewidth:.2f}_{local_dpi}_sh{ptshift}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td '{family}/svg' -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -col0 $c0 -col1 $c1 -tt -rm -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.2 -fls 0.4 -tg -tgsw $t -ptsh 0.5 -bw
done

c0=black
c1=black
for uv in 0000-0999 1000-1999 2000-2999; do
  t=0.10
  u=${uv%-*}; v=${uv#*-}
  python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u $u -v $v -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy   250 -tc '#000' -sb -m=tags -ob 'tags_{first_id:04}-{last_id:04}_tg{taggrid_strokewidth:.2f}_{local_dpi}_sh{ptshift}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td '{family}/svg' -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -col0 $c0 -col1 $c1 -tt -rm -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.2 -fls 0.4 -tg -tgsw $t -ptsh 0.5 -bw
done


p=tags_
s=_${c0}_${c1}_TAGS_BW.pdf
for f in ${p}0000-0999_*${s}; do config=${f#${p}????-????_}; config=${config%${s}}; echo ${p}0000-0999_${config}${s} ${p}1000-1999_${config}${s} ${p}2000-2999_${config}${s}; gs -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=merged_0000-2999_${config}${s} ${p}0000-0999_${config}${s} ${p}1000-1999_${config}${s} ${p}2000-2999_${config}${s}; done


New tags April 8 2019

c0=white
c1=black
uv=2000-2009
t=0.10
u=${uv%-*}; v=${uv#*-}
python ../python/generatetagsheet.py -f tag25h5inv -p 5 -d 10 -u $u -v $v -bx 3 -by 4 -pz letter  -ktx 90 -kty 220 -kf 0.7 -ko 0.7 -cx 12.7 -cy 12.7 -px 17.7 -py 17.7 -bm 10 -tm 12,11 -tp -tpx 110 -tpy   250 -tc '#000' -sb -m=tags -ob 'tags_{first_id:04}-{last_id:04}_tg{taggrid_strokewidth:.2f}_{local_dpi}_sh{ptshift}_{tagid_bgcolor}_{tagcornercolor1}' -kfv 0.2 -td '{family}/svg' -tbc '#FFF' -tgc '#FFF' -tm2 3 -tm2b 2.2 -cl -cld -uc -b1sw 0.2 -col0 $c0 -col1 $c1 -tt -rm -ff "Lucida Sans" -fwi bold -tim 0.35 -fsi 1.5 -fsx 1.2 -fls 0.4 -tg -tgsw $t -ptsh 0.5 -bw -cb 11011 -cs 01010


